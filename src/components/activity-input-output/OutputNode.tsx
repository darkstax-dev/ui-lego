import React from 'react'
import { Handle, Position, NodeProps } from '@xyflow/react'
import './OutputNode.css'

const OutputNode: React.FC<NodeProps> = ({ data, isConnectable }) => {
  return (
    <div className="output-node">
      <Handle
        type="target"
        position={Position.Top}
        isConnectable={isConnectable}
        className="output-node__handle"
      />
      
      <div className="output-node__content">
        <div className="output-node__icon-container">
          <div className="output-node__icon-background" />
          <svg className="output-node__icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.3528 3.57561C13.0387 3.2599 12.6004 3.06492 12.1131 3.06492C11.6277 3.06492 11.1927 3.2599 10.8823 3.57561H10.8733C10.5601 3.88979 10.3651 4.3284 10.3651 4.81383C10.3651 5.30111 10.5601 5.73602 10.8733 6.04835L10.8823 6.05544C11.1927 6.36961 11.6277 6.56273 12.1131 6.56273C12.6004 6.56273 13.0387 6.36961 13.3528 6.05544L13.3575 6.04835C13.6722 5.73602 13.8654 5.30111 13.8654 4.81383C13.8654 4.3284 13.6722 3.88979 13.3575 3.57561H13.3528ZM12.1131 27.5154C12.6004 27.5154 13.0387 27.317 13.3528 27.0066L13.3575 26.9973C13.6722 26.6875 13.8654 26.2488 13.8654 25.7668C13.8654 25.2795 13.6722 24.8428 13.3575 24.527H13.3528C13.0387 24.2076 12.6004 24.0145 12.1131 24.0145C11.6277 24.0145 11.1927 24.2076 10.8823 24.527H10.8733C10.5601 24.8428 10.3651 25.2795 10.3651 25.7668C10.3651 26.2488 10.5601 26.6875 10.8733 26.9973L10.8823 27.0066C11.1927 27.317 11.6277 27.5154 12.1131 27.5154ZM21.6418 22.2169C22.0752 22.1033 22.4676 21.8251 22.7069 21.4047L22.7393 21.3434C22.9521 20.9445 22.9909 20.4844 22.8773 20.0765C22.7627 19.6398 22.4811 19.2535 22.0616 19.0117L22.0373 18.9954C21.6286 18.7715 21.1628 18.7228 20.735 18.8383C20.3001 18.9468 19.9095 19.2372 19.6714 19.6543C19.4303 20.0673 19.3798 20.5438 19.4953 20.9824C19.6145 21.4136 19.8932 21.8036 20.31 22.0472H20.3127C20.7304 22.2872 21.2035 22.3306 21.6418 22.2169ZM13.9079 13.498C13.4483 13.0397 12.815 12.7526 12.1131 12.7526C11.4139 12.7526 10.7822 13.0397 10.3235 13.498C9.86704 13.9548 9.58552 14.5865 9.58552 15.2866C9.58552 15.9886 9.86704 16.6222 10.3235 17.0842C10.7822 17.5388 11.4139 17.824 12.1131 17.824C12.815 17.824 13.4483 17.5388 13.9079 17.0842C14.3653 16.6222 14.6468 15.9886 14.6468 15.2866C14.6468 14.5865 14.3653 13.9548 13.9079 13.498ZM12.8988 10.517C13.9159 10.6846 14.831 11.1719 15.5293 11.8757H15.5348C15.6457 11.9875 15.7541 12.1085 15.8542 12.2311L17.6004 11.2208C17.3656 10.5115 17.3549 9.76978 17.5434 9.0749C17.7926 8.14346 18.3963 7.30967 19.3012 6.78635L19.3311 6.76849C20.2262 6.26119 21.2439 6.15646 22.1627 6.40565C23.0929 6.65452 23.9322 7.261 24.4546 8.16533V8.16718C24.9745 9.06597 25.0802 10.0981 24.8319 11.0259C24.5846 11.9567 23.9781 12.796 23.0741 13.3156L22.8357 13.4567H22.8113C21.9751 13.8553 21.0554 13.9169 20.2108 13.6948C19.5171 13.5106 18.8808 13.1244 18.3827 12.5739L16.6393 13.5811C16.8396 14.1115 16.9508 14.6838 16.9508 15.2866C16.9508 15.8876 16.8396 16.4669 16.6393 17.001L18.3827 18.0045C18.8808 17.447 19.5171 17.0679 20.2108 16.8837C21.141 16.6293 22.1725 16.7377 23.0741 17.2628L23.1317 17.2899V17.2936C24.0027 17.8203 24.5873 18.6363 24.8319 19.5566C25.0802 20.4788 24.9745 21.5113 24.4546 22.4119L24.4232 22.4751L24.4195 22.4695C23.8971 23.3378 23.0741 23.9261 22.1654 24.175C21.2331 24.4205 20.2018 24.3158 19.3012 23.798V23.7906C18.3963 23.2673 17.7926 22.4316 17.5434 21.5023C17.3549 20.8093 17.3656 20.0673 17.6004 19.3583L15.8542 18.3511C15.7541 18.474 15.6457 18.5895 15.5348 18.7013L15.5293 18.7065C14.831 19.4069 13.9159 19.8942 12.8988 20.0565V22.0743C13.6236 22.2259 14.2732 22.5887 14.7823 23.0976L14.7848 23.1031C15.467 23.7817 15.8893 24.7273 15.8893 25.7668C15.8893 26.803 15.467 27.7427 14.7848 28.425L14.7823 28.4357C14.0955 29.118 13.1526 29.5403 12.1131 29.5403C11.0791 29.5403 10.135 29.118 9.44999 28.4357H9.44753V28.425C8.76435 27.7427 8.34114 26.803 8.34114 25.7668C8.34114 24.7273 8.76435 23.7817 9.44753 23.1031V23.0976H9.44999C9.95821 22.5887 10.6087 22.2259 11.3316 22.0743V20.0565C10.3137 19.8942 9.40132 19.4069 8.70398 18.7065L8.69659 18.7013C7.82491 17.8259 7.28003 16.6222 7.28003 15.2866C7.28003 13.9548 7.82491 12.751 8.69659 11.8757H8.70398C9.40132 11.1719 10.3137 10.6846 11.3316 10.517V8.50815C10.6087 8.35107 9.95821 7.98853 9.44999 7.48308H9.44753V7.47754C8.76435 6.7919 8.34114 5.85338 8.34114 4.81383C8.34114 3.77952 8.76435 2.83207 9.44753 2.14981L9.44999 2.14643C10.135 1.46233 11.0791 1.04004 12.1131 1.04004C13.1526 1.04004 14.0955 1.46233 14.7823 2.14643V2.14981H14.7848C15.467 2.83207 15.8893 3.77952 15.8893 4.81383C15.8893 5.85338 15.467 6.7919 14.7848 7.47754L14.7823 7.48308C14.2732 7.98853 13.6236 8.35107 12.8988 8.50815V10.517ZM22.7069 9.17777L22.6924 9.15621C22.4513 8.74994 22.0669 8.4792 21.6418 8.36185C21.2035 8.24634 20.7304 8.29531 20.31 8.53526H20.3127C19.8932 8.77335 19.6126 9.1633 19.4953 9.60006C19.3798 10.0331 19.4303 10.5115 19.6714 10.9282L19.6795 10.9393C19.9212 11.3505 20.3056 11.6265 20.735 11.7383C21.1665 11.8593 21.6474 11.8088 22.0616 11.567L22.0841 11.5563C22.4919 11.3126 22.7636 10.9282 22.8773 10.5059C22.9928 10.071 22.9469 9.59452 22.7069 9.17777Z" fill="#072B56"/>
          </svg>
        </div>
        <div className="output-node__label">{data?.label || 'output node'}</div>
      </div>
      
      <Handle
        type="source"
        position={Position.Bottom}
        isConnectable={isConnectable}
        className="output-node__handle"
      />
    </div>
  )
}

export default OutputNode
