@import url('../../tokens.css');

.taskdrawer { display: flex; flex-direction: column; gap: var(--sds-size-space-400); }
.taskdrawer-tabs { display: flex; gap: var(--sds-size-space-600); border-bottom: 1px solid var(--divider-light); margin-bottom: var(--sds-size-space-400); }
.taskdrawer-tab { background: transparent; color: var(--text-gray-main); border: none; padding: var(--sds-size-space-400) 0; cursor: pointer; font-weight: 600; font-family: var(--font-family-macan-mono); letter-spacing: var(--letter-spacing-wide); }
.taskdrawer-tab.is-active { color: var(--text-blue-main); border-bottom: 2px solid var(--text-blue-main); margin-bottom: -1px; }

/* MAIN INFO Section - Matching Screenshot */
.main-info-section {
  margin-bottom: var(--sds-size-space-500);
}

.section-header-collapsible {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--sds-size-space-400);
}

.section-title-main {
  font-family: var(--font-family-macan-mono);
  font-size: var(--font-size-sm);
  font-weight: 600;
  letter-spacing: var(--letter-spacing-wider);
  text-transform: uppercase;
  color: var(--text-blue-main);
}

.collapse-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* Main Info Content Card */
.main-info-content {
  background: #DFDFDF;
  padding: var(--sds-size-space-500);
  border-radius: 0px;
}

.task-title-main {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan);
  font-size: var(--font-size-lg);
  font-weight: 700;
  margin-bottom: var(--sds-size-space-500);
  line-height: 1.3;
}

/* Info Grid - 4 columns */
.info-grid-four-col {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--sds-size-space-400);
  margin-bottom: var(--sds-size-space-400);
}

.info-item {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-200);
}

.info-label {
  font-size: var(--font-size-xs);
  color: var(--text-gray-main);
  font-family: var(--font-family-macan-mono);
  letter-spacing: var(--letter-spacing-wider);
  text-transform: uppercase;
}

.info-value {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan-mono);
  font-size: var(--font-size-sm);
  font-weight: 500;
}

/* Assignee Section */
.assignee-section {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-200);
  margin-bottom: var(--sds-size-space-400);
}

.assignee-display {
  display: flex;
  align-items: center;
  gap: var(--sds-size-space-200);
}

.assignee-avatar {
  width: 24px;
  height: 24px;
  border-radius: 50%;
}

.assignee-name {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan-mono);
  font-size: var(--font-size-sm);
  font-weight: 500;
}

/* Product Customer Grid */
.product-customer-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sds-size-space-400);
}

.product-section,
.customer-section {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-200);
}

/* Task Title */
.task-title {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan);
  font-size: var(--font-size-xl);
  font-weight: 700;
  margin-bottom: var(--sds-size-space-600);
  line-height: 1.3;
}

/* Info Grid - 4 Columns */
.info-grid-four {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--sds-size-space-500);
  margin-bottom: var(--sds-size-space-600);
}

.info-column {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-300);
}

.info-label {
  font-size: var(--font-size-xs);
  color: var(--text-gray-main);
  font-family: var(--font-family-macan-mono);
  letter-spacing: var(--letter-spacing-wider);
  text-transform: uppercase;
}

.info-value {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan-mono);
  font-size: var(--font-size-sm);
}

/* Assignee Row */
.assignee-row {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-300);
  margin-bottom: var(--sds-size-space-600);
}

.assignee-info {
  display: flex;
  align-items: center;
  gap: var(--sds-size-space-300);
}

.assignee-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
}

.assignee-name {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan-mono);
  font-size: var(--font-size-sm);
}

/* Product Customer Grid */
.product-customer-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sds-size-space-600);
}

.product-section,
.customer-section {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-300);
}

/* Collapsible Sections - AGENT COMMENT & CHECKLIST */
.collapsible-section {
  margin-bottom: var(--sds-size-space-500);
}

.section-content-gray {
  background: #DFDFDF;
  padding: var(--sds-size-space-500);
  border-radius: 0px;
}

/* Checklist Items */
.checklist-items {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-300);
}

.checklist-item {
  display: flex;
  align-items: flex-start;
  gap: var(--sds-size-space-300);
}

.checklist-checkbox {
  width: 16px;
  height: 16px;
  margin-top: 2px;
  cursor: pointer;
}

.checklist-text {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan);
  font-size: var(--font-size-sm);
  line-height: 1.4;
  flex: 1;
}

/* Task Title Display */
.task-title-display {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan);
  font-size: var(--font-size-lg);
  font-weight: 700;
  margin-bottom: var(--sds-size-space-400);
  line-height: 1.3;
}

/* Horizontal Info Row */
.info-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--sds-size-space-300);
  margin-bottom: var(--sds-size-space-400);
}

.info-field {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-100);
}

.field-label {
  font-size: var(--font-size-xs);
  color: var(--text-gray-main);
  font-family: var(--font-family-macan-mono);
  letter-spacing: var(--letter-spacing-wider);
  text-transform: uppercase;
}

.field-value {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan-mono);
  font-size: var(--font-size-sm);
}

/* Assignee Section */
.assignee-section {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-200);
  margin-bottom: var(--sds-size-space-400);
}

.assignee-display {
  display: flex;
  align-items: center;
  gap: var(--sds-size-space-200);
}

.assignee-avatar {
  width: 24px;
  height: 24px;
  border-radius: 0px;
}

.assignee-name {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan-mono);
}

/* Product Customer Row */
.product-customer-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sds-size-space-400);
}

.field-group {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-100);
}

/* Agent Comment Text */
.agent-comment-text {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan);
  font-size: var(--font-size-sm);
  line-height: 1.5;
}

.text-content {
  color: var(--text-blue-main);
  font-family: var(--font-family-macan);
  font-size: var(--font-size-sm);
  line-height: 1.5;
}
.section-title { color: var(--text-gray-main); text-transform: uppercase; font-size: var(--font-size-xs); letter-spacing: var(--letter-spacing-wider); font-family: var(--font-family-macan-mono); }
.section-title.with-count { display: flex; align-items: center; gap: var(--sds-size-space-200); }
.count-dot { background: var(--color-green-800); color: var(--color-white); border-radius: 0px; font-size: var(--font-size-xs); padding: 2px var(--sds-size-space-200); font-family: var(--font-family-macan-mono-stencil); }
.info-card { background: var(--surface-card); border: 1px solid var(--divider-light); border-radius: 0px; padding: var(--sds-size-space-600); display: flex; flex-direction: column; gap: var(--sds-size-space-500); }
.info-title { color: var(--text-blue-main); font-size: var(--font-size-xl); font-weight: 700; font-family: var(--font-family-macan); margin-bottom: var(--sds-size-space-300); }
.info-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: var(--sds-size-space-500); }
.info-item { display: flex; flex-direction: column; gap: var(--sds-size-space-200); }
.info-label { font-size: var(--font-size-xs); color: var(--text-gray-main); font-family: var(--font-family-macan-mono); letter-spacing: var(--letter-spacing-wider); }
.info-value { color: var(--text-blue-main); font-family: var(--font-family-macan-mono); }
.info-assignee { display: flex; flex-direction: column; gap: var(--sds-size-space-200); margin-top: var(--sds-size-space-300); }
.assignee-chip { display: inline-flex; align-items: center; gap: var(--sds-size-space-300); background: transparent; border: none; padding: 0; border-radius: 0px; color: var(--text-blue-main); font-family: var(--font-family-macan-mono); }
.assignee-avatar { width: 32px; height: 32px; border-radius: 0px; }
.info-two-col { display: grid; grid-template-columns: 1fr 1fr; gap: var(--sds-size-space-500); margin-top: var(--sds-size-space-400); }

.badge-status { display: inline-flex; padding: var(--sds-size-space-100) var(--sds-size-space-300); border-radius: 0px; font-size: var(--font-size-xs); font-weight: 700; letter-spacing: 0.03em; font-family: var(--font-family-macan-mono); }
.status-user { background: color-mix(in srgb, var(--color-red-500) 20%, transparent); color: var(--color-red-500); border: 1px solid color-mix(in srgb, var(--color-red-500) 30%, transparent); }
.status-customer { background: color-mix(in srgb, var(--color-yellow-500) 18%, transparent); color: var(--color-yellow-600); border: 1px solid color-mix(in srgb, var(--color-yellow-600) 28%, transparent); }
.status-agents { background: color-mix(in srgb, var(--color-green-500) 18%, transparent); color: var(--color-green-600); border: 1px solid color-mix(in srgb, var(--color-green-600) 28%, transparent); }
.status-blocked { background: color-mix(in srgb, var(--color-red-600) 20%, transparent); color: var(--color-red-600); border: 1px solid color-mix(in srgb, var(--color-red-600) 30%, transparent); }
.status-waiting { background: color-mix(in srgb, var(--color-blue-800) 18%, transparent); color: var(--color-blue-800); border: 1px solid color-mix(in srgb, var(--color-blue-800) 30%, transparent); }
.status-review { background: color-mix(in srgb, var(--color-blue-dark-950) 6%, transparent); color: var(--text-blue-main); border: 1px solid var(--divider-light); }
.status-done { background: color-mix(in srgb, var(--color-green-500) 15%, transparent); color: var(--color-green-600); border: 1px solid color-mix(in srgb, var(--color-green-500) 30%, transparent); }
.status-archived { background: color-mix(in srgb, var(--color-blue-gray-500) 15%, transparent); color: var(--color-blue-gray-600); border: 1px solid color-mix(in srgb, var(--color-blue-gray-500) 30%, transparent); }

.badge-priority { display: inline-flex; padding: var(--sds-size-space-100) var(--sds-size-space-300); border-radius: 0px; font-size: var(--font-size-xs); font-weight: 700; font-family: var(--font-family-macan-mono); text-transform: uppercase; }
.prio-high { background: color-mix(in srgb, var(--color-red-600) 20%, transparent); color: var(--color-red-400); }
.prio-medium { background: color-mix(in srgb, var(--color-blue-800) 20%, transparent); color: var(--color-blue-700); }
.prio-normal { background: color-mix(in srgb, var(--color-green-500) 20%, transparent); color: var(--color-green-400); }
.prio-low { background: color-mix(in srgb, var(--color-yellow-400) 20%, transparent); color: var(--color-yellow-300); }

.text-panel { background: var(--surface-card); border: 1px solid var(--divider-light); color: var(--text-blue-main); padding: var(--sds-size-space-600); border-radius: 0px; font-family: var(--font-family-macan); line-height: 1.6; }
.checklist { display: flex; flex-direction: column; gap: var(--sds-size-space-300); padding-left: 0; list-style: none; }
.checklist-item { display: flex; align-items: center; gap: var(--sds-size-space-400); background: var(--surface-card); border: 1px solid var(--divider-light); padding: var(--sds-size-space-400); border-radius: 0px; }
.attachments { display: flex; flex-direction: column; gap: var(--sds-size-space-300); }
.attachment-row { display: flex; align-items: center; gap: var(--sds-size-space-400); background: var(--sds-color-black-100); box-shadow: 0px 1px 4px 0px rgba(12,12,13,0.05); padding: var(--sds-size-space-400); border-radius: 0px; border: 1px solid var(--divider-light); }
.file-icon { width: 36px; height: 24px; background: var(--surface-card); color: var(--text-blue-main); display: flex; align-items: center; justify-content: center; border-radius: 0px; font-size: var(--font-size-xs); font-family: var(--font-family-macan-mono); }
.file-name { color: var(--text-blue-main); font-family: var(--font-family-macan-mono); }

/* Actions bar (view mode) */
.taskdrawer-actions { display: flex; width: 100%; height: 56px; padding: var(--sds-size-space-200) var(--sds-size-space-200) var(--sds-size-space-200) var(--sds-size-space-400); gap: var(--sds-size-space-300); background: var(--Background-Card); justify-content: flex-end; align-items: center; }
.td-btn { background: transparent; color: var(--Gray-500); outline: 1px solid var(--Gray-500); outline-offset: -1px; border: none; border-radius: 0px; height: 32px; padding: var(--sds-size-space-200) var(--sds-size-space-400); cursor: pointer; text-transform: uppercase; font-family: var(--font-family-macan-mono); font-size: var(--font-size-sm); font-weight: var(--font-weight-semibold); line-height: var(--line-height-tight); letter-spacing: var(--letter-spacing-wider); display: inline-flex; align-items: center; justify-content: center; }
.td-btn.td-secondary { background: transparent; }
.taskdrawer-log { color: var(--text-blue-main); opacity: .95; }

/* Log table */
.taskdrawer-log-container { display: flex; flex-direction: column; gap: var(--sds-size-space-400); flex: 1; }
.task-log-table { display: flex; flex-direction: column; border-radius: 0px; overflow: hidden; }
.task-log-header { display: flex; align-items: center; background: var(--surface-subtle); border-bottom: 1px solid var(--divider-light); height: 48px; }
.task-log-header-cell { flex: 1; padding: var(--sds-size-space-400); color: var(--text-blue-main); font-family: var(--font-family-macan-mono); font-size: var(--font-size-sm); font-weight: 600; line-height: var(--line-height-normal); letter-spacing: var(--letter-spacing-wide); text-transform: uppercase; }
.task-log-header-cell:first-child,
.task-log-cell:first-child { flex: 0 0 180px; width: 180px; }
.task-log-header-cell:nth-child(2),
.task-log-cell:nth-child(2) { flex: 0 0 180px; width: 180px; }
.task-log-body { display: flex; flex-direction: column; }
.task-log-row { display: flex; align-items: center; height: 52px; border-bottom: 1px dashed var(--color-gray-400); }
.task-log-row:last-child { border-bottom: none; }
.task-log-cell { flex: 1; padding: var(--sds-size-space-400); color: var(--text-blue-main); font-family: var(--font-family-macan-mono); font-size: var(--font-size-base); font-weight: var(--font-weight-book); line-height: var(--line-height-normal); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.task-log-empty { padding: var(--sds-size-space-800) var(--sds-size-space-400); text-align: center; color: var(--text-blue-main); opacity: .85; }
.task-log-pagination { display: flex; justify-content: space-between; align-items: center; padding: var(--sds-size-space-400); background: var(--surface-default); border-radius: 0px; }
.pagination-left { display: flex; align-items: center; gap: var(--sds-size-space-300); }
.pagination-label { color: var(--text-blue-main); font-family: var(--font-family-macan); font-size: var(--font-size-sm); font-weight: var(--font-weight-book); line-height: var(--line-height-normal); }
.pagination-select { display: flex; align-items: center; gap: var(--sds-size-space-100); padding: var(--sds-size-space-300) var(--sds-size-space-300); background: var(--surface-default); border: 1px solid var(--divider-light); border-radius: 0px; color: var(--text-blue-main); font-family: var(--font-family-macan); font-size: var(--font-size-md); font-weight: var(--font-weight-book); cursor: pointer; }
.pagination-select svg { fill: var(--text-blue-main); }
.pagination-right { display: flex; align-items: center; gap: var(--sds-size-space-200); }
.pagination-nav { display: flex; padding: var(--sds-size-space-200) var(--sds-size-space-300); justify-content: center; align-items: center; background: transparent; border: none; border-radius: 0px; cursor: pointer; color: var(--text-blue-main); }
.pagination-nav:disabled { opacity: 0.5; cursor: not-allowed; }
.pagination-nav svg { fill: currentColor; }
.pagination-pages { display: flex; align-items: center; gap: var(--sds-size-space-200); }
.pagination-page { display: flex; padding: var(--sds-size-space-200) var(--sds-size-space-300); flex-direction: column; justify-content: center; align-items: center; background: transparent; border: none; border-radius: 0px; color: var(--text-blue-main); font-family: var(--font-family-macan-mono); font-size: var(--font-size-sm); font-weight: 600; line-height: var(--line-height-tight); letter-spacing: var(--letter-spacing-wider); text-transform: uppercase; cursor: pointer; }
.pagination-page.is-active { background: var(--surface-default); }
.pagination-gap { color: var(--text-blue-main); font-family: var(--font-family-inter); font-size: var(--font-size-md); font-weight: var(--font-weight-bold); line-height: 140%; padding: var(--sds-size-space-200) var(--sds-size-space-400); }

/* === FORM (Figma new task) === */
.section-title-emphasis { color: var(--Text-Blue-text-Main-text); font-family: var(--font-family-macan-mono); font-size: var(--font-size-md); font-weight: var(--font-weight-semibold); line-height: var(--line-height-tight); letter-spacing: var(--letter-spacing-wider); text-transform: uppercase; border-bottom: 1px dashed var(--color-gray-400); padding-bottom: var(--sds-size-space-200); }

.taskdrawer-form { display: flex; flex-direction: column; gap: var(--sds-size-space-600); }
.form-divider { width: 100%; height: 1px; background: var(--divider-light); }

.form-field { display: flex; flex-direction: column; gap: var(--sds-size-space-200); }
.form-label { color: var(--Text-Blue-text-Main-text); font-family: var(--font-family-macan); font-size: var(--font-size-sm); font-weight: var(--font-weight-book); line-height: var(--line-height-normal); }

.form-input, .form-textarea, .form-select select, .form-date-input { width: 100%; height: 40px; padding: 12px 12px 12px 16px; background: var(--Inputs-Input-Background); color: var(--text-blue-main); border: none; outline: none; font-family: var(--font-family-macan); font-size: var(--font-size-md); font-weight: var(--font-weight-book); letter-spacing: var(--letter-spacing-tight); }
.form-textarea { min-height: 187px; resize: vertical; }
.form-input::placeholder, .form-textarea::placeholder, .form-select select:invalid, .form-date-input::placeholder { color: var(--Inputs-Placeholder-text); }

.form-select { position: relative; display: flex; align-items: center; }
.form-select select { appearance: none; -webkit-appearance: none; -moz-appearance: none; }
.form-select-icon { position: absolute; right: 12px; pointer-events: none; color: var(--text-blue-main); }

/* File upload dashed area */
.form-file-upload { display: flex; padding: 16px 24px; flex-direction: column; align-items: center; gap: 4px; align-self: stretch; border: 1px dashed var(--Divider-dark); }
.file-upload-content { display: flex; flex-direction: column; align-items: center; gap: 12px; width: 100%; }
.file-upload-text-bold { color: var(--Text-Blue-text-Main-text); text-align: center; font-family: var(--font-family-macan); font-size: var(--font-size-md); font-weight: var(--font-weight-bold); letter-spacing: var(--letter-spacing-tight); }
.file-upload-action { display: flex; justify-content: center; align-items: center; gap: 4px; width: 100%; }
.file-upload-link { background: transparent; border: none; padding: 0; color: var(--red-600-cta); font-family: var(--font-family-macan); font-size: var(--font-size-sm); font-weight: var(--font-weight-book); cursor: pointer; }
.file-upload-text { color: var(--Text-Blue-text-Tetriary-text); font-family: var(--font-family-macan); font-size: var(--font-size-sm); font-weight: var(--font-weight-book); }

/* Add checklist item */
.form-add-item { display: inline-flex; align-items: center; gap: 8px; padding: 0 16px 0 0; background: transparent; border: none; color: var(--color-black); font-family: var(--font-family-macan-mono); font-size: 15px; cursor: pointer; }
.form-add-item svg { flex-shrink: 0; }

/* Save Task CTA */
.save-task-button-wrapper { display: flex; width: 100%; }
.save-task-button { display: inline-flex; width: 100%; align-items: center; justify-content: center; gap: 10px; height: 40px; background: var(--Primary-button-red-Fill); color: var(--Primary-button-red-Icon-default); border: none; cursor: pointer; text-transform: uppercase; font-family: var(--font-family-macan-mono); font-size: var(--font-size-md); font-weight: var(--font-weight-semibold); letter-spacing: var(--letter-spacing-wider); }
.save-task-text { color: var(--Text-White-text-Main-text); }
.save-task-icon { color: var(--Text-White-text-Main-text); }

/* Responsive tweaks */
@media (max-width: 960px) {
  .info-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .info-two-col { grid-template-columns: 1fr; }
}
